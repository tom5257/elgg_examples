

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Hello world &mdash; Elgg 1.x documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Elgg 1.x documentation" href="../index.html"/>
        <link rel="up" title="Plugin Tutorials" href="index.html"/>
        <link rel="next" title="Customizing the Home Page" href="indexpage.html"/>
        <link rel="prev" title="Plugin Tutorials" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
        <a href="../index.html"><img src="../_static/elgg_logo.png" alt="Elgg" /></a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/features.html">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html">Bundled plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/license.html">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/development.html">Developer Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Administrator Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../admin/getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../admin/upgrading.html">Upgrading Elgg</a></li>
<li class="toctree-l2"><a class="reference internal" href="../admin/plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../admin/performance.html">Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../admin/cron.html">Cron</a></li>
<li class="toctree-l2"><a class="reference internal" href="../admin/backup-restore.html">Backup and Restore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../admin/duplicate-installation.html">Duplicate Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../admin/getting-help.html">Getting Help</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Developer Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../guides/dont-modify-core.html">Don&#8217;t Modify Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/guidelines.html">Plugin coding guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/accessibility.html">Accessibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/ajax.html">Ajax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/authentication.html">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/context.html">Context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/database.html">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/actions.html">Forms + Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/helpers.html">Helper functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/i18n.html">Internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/javascript.html">JavaScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/menus.html">Menus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/notifications.html">Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/pagehandler.html">Page handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/page-owner.html">Page ownership</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/permissions-check.html">Permissions Check</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/settings.html">Plugin settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/river.html">River</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/routing.html">Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/themes.html">Themes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/widgets.html">Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/walled-garden.html">Walled Garden</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/web-services.html">Web services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/upgrading.html">Upgrading Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/events-list.html">List of events in core</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/hooks-list.html">List of plugin hooks in core</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Plugin Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Hello world</a></li>
<li class="toctree-l2"><a class="reference internal" href="indexpage.html">Customizing the Home Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="blog.html">Building a Blog Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="wysiwyg.html">Integrating a Rich Text Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="widget.html">Basic Widget</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design Docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../design/actions.html">Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/database.html">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/events.html">Events and Plugin Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/i18n.html">Internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/amd.html">AMD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design/loggable.html">Loggable</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributor Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contribute/i18n.html">Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/issues.html">Reporting Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/code.html">Writing Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/docs.html">Writing Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/docs.html#internationalizing-documentation">Internationalizing documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/money.html">Becoming a Financial Supporter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribute/releases.html">Release Process Workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">Appendix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendix/faqs.html">FAQs and Other Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/roadmap.html">Roadmap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/releases.html">Release Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/support.html">Support policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/history.html">History</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Elgg</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Plugin Tutorials</a> &raquo;</li>
      
    <li>Hello world</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/tutorials/hello_world.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="hello-world">
<h1>Hello world<a class="headerlink" href="#hello-world" title="Permalink to this headline">¶</a></h1>
<p>This tutorial shows you how to build a simple plugin that adds a new page and
prints the text &#8220;Hello world&#8221; on it.</p>
<p>In this tutorial we will use the address <code class="docutils literal"><span class="pre">http://www.mysite.com/</span></code> as an example.
While developing the plugin you should use the address of your own site
instead of the example address.</p>
<div class="section" id="required-files">
<h2>Required files<a class="headerlink" href="#required-files" title="Permalink to this headline">¶</a></h2>
<p>First of all you need a directory that will hold all the files required by the
plugin. Go to the <code class="docutils literal"><span class="pre">mod</span></code> directory of your Elgg site and create there a
directory with the name <code class="docutils literal"><span class="pre">hello_world</span></code>.</p>
<dl class="docutils">
<dt>Go to the <code class="docutils literal"><span class="pre">hello_world</span></code> directory and create these two files inside it:</dt>
<dd><ul class="first last simple">
<li>start.php</li>
<li>manifest.xml</li>
</ul>
</dd>
</dl>
<p>Copy this to the <code class="docutils literal"><span class="pre">manifest.xml</span></code> file:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;plugin_manifest</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.elgg.org/plugin_manifest/1.8&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;name&gt;</span>Hello world<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;id&gt;</span>hello_world<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;author&gt;</span>Your name here<span class="nt">&lt;/author&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.0<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;description&gt;</span>Adds a page that prints &quot;Hello world&quot;.<span class="nt">&lt;/description&gt;</span>

    <span class="nt">&lt;requires&gt;</span>
        <span class="nt">&lt;type&gt;</span>elgg_release<span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.9<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/requires&gt;</span>
<span class="nt">&lt;/plugin_manifest&gt;</span>
</pre></div>
</div>
<p>Add your name to the <code class="docutils literal"><span class="pre">&lt;author&gt;&lt;/author&gt;</span></code> element.</p>
<p>The plugin has now the minimum requirements for your site to recognize it.
Log in to your site as an administrator and access the plugins page at the
administration panel. By default the plugin is at the bottom of the plugins
list. Click the &#8220;Activate&#8221; button to start it.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/hello_world1.png"><img alt="../_images/hello_world1.png" src="../_images/hello_world1.png" style="width: 80%;" /></a>
<p class="caption"><span class="caption-text">The Hello world plugin has appeared to the bottom of the plugin list</span></p>
</div>
</div>
<div class="section" id="initializing-the-plugin">
<h2>Initializing the plugin<a class="headerlink" href="#initializing-the-plugin" title="Permalink to this headline">¶</a></h2>
<p>The next step is to add some actual features. Open the <code class="docutils literal"><span class="pre">start.php</span></code> and copy
this to it:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nx">elgg_register_event_handler</span><span class="p">(</span><span class="s1">&#39;init&#39;</span><span class="p">,</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;hello_world_init&#39;</span><span class="p">);</span>

<span class="k">function</span> <span class="nf">hello_world_init</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span>
</pre></div>
</div>
<p>This piece of code tells Elgg that it should call the function
<code class="docutils literal"><span class="pre">hello_world_init()</span></code> when the Elgg core system is initiated.</p>
</div>
<div class="section" id="registering-a-page-handler">
<h2>Registering a page handler<a class="headerlink" href="#registering-a-page-handler" title="Permalink to this headline">¶</a></h2>
<p>The next step is to register a page handler which has the purpose of handling
request that users make to the URL <a class="reference external" href="http://www.mysite.com/hello/">http://www.mysite.com/hello/</a>.</p>
<p>Update the <code class="docutils literal"><span class="pre">start.php</span></code> to look like this:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nx">elgg_register_event_handler</span><span class="p">(</span><span class="s1">&#39;init&#39;</span><span class="p">,</span> <span class="s1">&#39;system&#39;</span><span class="p">,</span> <span class="s1">&#39;hello_world_init&#39;</span><span class="p">);</span>

<span class="k">function</span> <span class="nf">hello_world_init</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">elgg_register_page_handler</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;hello_world_page_handler&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">hello_world_page_handler</span><span class="p">()</span> <span class="p">{</span>
    <span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Hello world!&#39;</span><span class="p">,</span>
        <span class="s1">&#39;content&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;This is my first plugin.&#39;</span><span class="p">,</span>
        <span class="s1">&#39;filter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="p">);</span>

    <span class="nv">$body</span> <span class="o">=</span> <span class="nx">elgg_view_layout</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">,</span> <span class="nv">$params</span><span class="p">);</span>

    <span class="k">echo</span> <span class="nx">elgg_view_page</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="nv">$body</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The call to <code class="docutils literal"><span class="pre">elgg_register_page_handler()</span></code> tells Elgg that it should
call the function <code class="docutils literal"><span class="pre">hello_world_page_handler()</span></code> when user goes to your site
and has &#8220;hello&#8221; at the end of the URL.</p>
<p>The <code class="docutils literal"><span class="pre">hello_world_page_handler()</span></code> makes it possible for the users to access
the actual page. Inside the function we first give an array of parameters to the
<code class="docutils literal"><span class="pre">elgg_view_layout()</span></code> function.</p>
<dl class="docutils">
<dt>The parameters include:</dt>
<dd><ul class="first last simple">
<li>The title of the page</li>
<li>The contents of the page</li>
<li>Filter which is left empty because there&#8217;s currently nothing to filter</li>
</ul>
</dd>
</dl>
<p>This creates the basic layout for the page. The layout is then run through
<code class="docutils literal"><span class="pre">elgg_view_page()</span></code> which assembles and outputs the full page.</p>
<p>You can now go to the address <a class="reference external" href="http://www.mysite.com/hello/">http://www.mysite.com/hello/</a> and you should see the page.</p>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/hello_world2.png"><img alt="../_images/hello_world2.png" src="../_images/hello_world2.png" style="width: 60%;" /></a>
<p class="caption"><span class="caption-text">Elgg is now routing the URL <a class="reference external" href="http://www.mysite.com/hello/">http://www.mysite.com/hello/</a> to the page you created.</span></p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="indexpage.html" class="btn btn-neutral float-right" title="Customizing the Home Page">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Plugin Tutorials"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013, Various.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a modified version of the <a href="https://github.com/snide/sphinx_rtd_theme">Read the Docs theme</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.x',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
   

</body>
</html>